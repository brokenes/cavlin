<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="AgentMapper" >
	<resultMap id="BaseResultMap" type="Agent" >
		<id column="agent_id" property="agentId" jdbcType="INTEGER"/>
		<result column="parent_id" property="parentId" jdbcType="INTEGER"/>
		<result column="role" property="role" jdbcType="TINYINT"/>
		<result column="amount" property="amount" jdbcType="BIGINT"/>
		<result column="forthe_amount" property="fortheAmount" jdbcType="BIGINT"/>
		<result column="frozen_amount" property="frozenAmount" jdbcType="BIGINT"/>
		<result column="company_name" property="companyName" jdbcType="VARCHAR"/>
		<result column="cipher" property="cipher" jdbcType="VARCHAR"/>
		<result column="quale" property="quale" jdbcType="TINYINT"/>
		<result column="company_phone" property="companyPhone" jdbcType="VARCHAR"/>
		<result column="registry_time" property="registryTime" jdbcType="TIMESTAMP"/>
		<result column="business_license" property="businessLicense" jdbcType="VARCHAR"/>
		<result column="address" property="address" jdbcType="VARCHAR"/>
		<result column="open_bank" property="openBank" jdbcType="VARCHAR"/>
		<result column="cust_type" property="custType" jdbcType="TINYINT"/>
		<result column="bank_card_no" property="bankCardNo" jdbcType="VARCHAR"/>
		<result column="bank_num" property="bankNum" jdbcType="VARCHAR"/>
		<result column="bank_name" property="bankName" jdbcType="VARCHAR"/>
		<result column="company_pic_path" property="companyPicPath" jdbcType="VARCHAR"/>
		<result column="idcard_pic_path_a" property="idcardPicPathA" jdbcType="VARCHAR"/>
		<result column="idcard_pic_path_b" property="idcardPicPathB" jdbcType="VARCHAR"/>
		<result column="photo" property="photo" jdbcType="VARCHAR"/>
		<result column="trade" property="trade" jdbcType="VARCHAR"/>
		<result column="name" property="name" jdbcType="VARCHAR"/>
		<result column="phone" property="phone" jdbcType="VARCHAR"/>
		<result column="email" property="email" jdbcType="VARCHAR"/>
		<result column="qq" property="qq" jdbcType="VARCHAR"/>
		<result column="organization_number" property="organizationNumber" jdbcType="VARCHAR"/>
		<result column="enterprise_number" property="enterpriseNumber" jdbcType="INTEGER"/>
		<result column="secret_key" property="secretKey" jdbcType="VARCHAR"/>
		<result column="push_times" property="pushTimes" jdbcType="INTEGER"/>
		<result column="is_holiday_cash" property="isHolidayCash" jdbcType="TINYINT"/>
		<result column="payout_ip_enabled" property="payoutIpEnabled" jdbcType="TINYINT"/>
		<result column="sms_channel_id" property="smsChannelId" jdbcType="INTEGER"/>
		<result column="pay_ip_enabled" property="payIpEnabled" jdbcType="TINYINT"/>
		<result column="version" property="version" jdbcType="INTEGER"/>
		<result column="pay_status" property="payStatus" jdbcType="INTEGER"/>
		<result column="payout_status" property="payoutStatus" jdbcType="INTEGER"/>
		<result column="payout_way" property="payoutWay" jdbcType="INTEGER"/>
		<result column="is_frozen_record" property="isFrozenRecord" jdbcType="TINYINT"/>
	</resultMap>
	<sql id="Base_Column_List" >
    agent_id,
    parent_id,
    role,
    amount,
    forthe_amount,
    frozen_amount,
    company_name,
    cipher,
    quale,
    company_phone,
    registry_time,
    business_license,
    address,
    open_bank,
    cust_type,
    bank_card_no,
    bank_num,
    bank_name,
    company_pic_path,
    idcard_pic_path_a,
    idcard_pic_path_b,
    photo,
    trade,
    name,
    phone,
    email,
    qq,
    organization_number,
    enterprise_number,
    secret_key,
    push_times,
    is_holiday_cash,
    payout_ip_enabled,
    sms_channel_id,
    pay_ip_enabled,
    version,
    pay_status,
    payout_status,
    payout_way,
    is_frozen_record
  </sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
		select
		<include refid="Base_Column_List" />
		from pattern_agent
		where agent_id = #{agentId,jdbcType=INTEGER}
	</select>
	
	<select id="selectByParentId" resultMap="BaseResultMap" parameterType="map" >
		select
		<include refid="Base_Column_List" />
		from pattern_agent
		where parent_id = #{parentId,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    delete from pattern_agent
	where agent_id = #{agentId,jdbcType=INTEGER}
  </delete>
	<insert id="insert" parameterType="Agent" >
		insert into pattern_agent (
		<include refid="Base_Column_List" />
		)
		values (
		#{agentId,jdbcType=INTEGER} ,
		#{parentId,jdbcType=INTEGER} ,
		#{role,jdbcType=TINYINT} ,
		#{amount,jdbcType=BIGINT} ,
		#{fortheAmount,jdbcType=BIGINT} ,
		#{frozenAmount,jdbcType=BIGINT} ,
		#{companyName,jdbcType=VARCHAR} ,
		#{cipher,jdbcType=VARCHAR} ,
		#{quale,jdbcType=TINYINT} ,
		#{companyPhone,jdbcType=VARCHAR} ,
		#{registryTime,jdbcType=TIMESTAMP} ,
		#{businessLicense,jdbcType=VARCHAR} ,
		#{address,jdbcType=VARCHAR} ,
		#{openBank,jdbcType=VARCHAR} ,
		#{custType,jdbcType=TINYINT} ,
		#{bankCardNo,jdbcType=VARCHAR} ,
		#{bankNum,jdbcType=VARCHAR} ,
		#{bankName,jdbcType=VARCHAR} ,
		#{companyPicPath,jdbcType=VARCHAR} ,
		#{idcardPicPathA,jdbcType=VARCHAR} ,
		#{idcardPicPathB,jdbcType=VARCHAR} ,
		#{photo,jdbcType=VARCHAR} ,
		#{trade,jdbcType=VARCHAR} ,
		#{name,jdbcType=VARCHAR} ,
		#{phone,jdbcType=VARCHAR} ,
		#{email,jdbcType=VARCHAR} ,
		#{qq,jdbcType=VARCHAR} ,
		#{organizationNumber,jdbcType=VARCHAR} ,
		#{enterpriseNumber,jdbcType=INTEGER} ,
		#{secretKey,jdbcType=VARCHAR} ,
		#{pushTimes,jdbcType=INTEGER} ,
		#{isHolidayCash,jdbcType=TINYINT} ,
		#{payoutIpEnabled,jdbcType=TINYINT} ,
		#{smsChannelId,jdbcType=INTEGER} ,
		#{payIpEnabled,jdbcType=TINYINT} ,
		#{version,jdbcType=INTEGER},
		#{payStatus,jdbcType=INTEGER},
		#{payoutStatus,jdbcType=INTEGER},
		#{payoutWay,jdbcType=INTEGER},
		#{isFrozenRecord,jdbcType=TINYINT}
		)
	</insert>
	<insert id="insertSelective" parameterType="Agent" >
		insert into pattern_agent
		<trim prefix="(" suffix=")" suffixOverrides="," >
			<if test="agentId != null" >
				agent_id,
			</if>
			<if test="parentId != null" >
				parent_id,
			</if>
			<if test="role != null" >
				role,
			</if>
			<if test="amount != null" >
				amount,
			</if>
			<if test="fortheAmount != null" >
				forthe_amount,
			</if>
			<if test="frozenAmount != null" >
				frozen_amount,
			</if>
			<if test="companyName != null" >
				company_name,
			</if>
			<if test="cipher != null" >
				cipher,
			</if>
			<if test="quale != null" >
				quale,
			</if>
			<if test="companyPhone != null" >
				company_phone,
			</if>
			<if test="registryTime != null" >
				registry_time,
			</if>
			<if test="businessLicense != null" >
				business_license,
			</if>
			<if test="address != null" >
				address,
			</if>
			<if test="openBank != null" >
				open_bank,
			</if>
			<if test="custType != null" >
				cust_type,
			</if>
			<if test="bankCardNo != null" >
				bank_card_no,
			</if>
			<if test="bankNum != null" >
				bank_num,
			</if>
			<if test="bankName != null" >
				bank_name,
			</if>
			<if test="companyPicPath != null" >
				company_pic_path,
			</if>
			<if test="idcardPicPathA != null" >
				idcard_pic_path_a,
			</if>
			<if test="idcardPicPathB != null" >
				idcard_pic_path_b,
			</if>
			<if test="photo != null" >
				photo,
			</if>
			<if test="trade != null" >
				trade,
			</if>
			<if test="name != null" >
				name,
			</if>
			<if test="phone != null" >
				phone,
			</if>
			<if test="email != null" >
				email,
			</if>
			<if test="qq != null" >
				qq,
			</if>
			<if test="organizationNumber != null" >
				organization_number,
			</if>
			<if test="enterpriseNumber != null" >
				enterprise_number,
			</if>
			<if test="secretKey != null" >
				secret_key,
			</if>
			<if test="pushTimes != null" >
				push_times,
			</if>
			<if test="isHolidayCash != null" >
				is_holiday_cash,
			</if>
			<if test="payoutIpEnabled != null" >
				payout_ip_enabled,
			</if>
			<if test="smsChannelId != null" >
				sms_channel_id,
			</if>
			<if test="payIpEnabled != null" >
				pay_ip_enabled,
			</if>
			<if test="version != null" >
				version,
			</if>
			<if test="payStatus != null" >
				pay_status,
			</if>
			<if test="payoutStatus != null" >
				payout_status,
			</if>
			<if test="payoutWay != null" >
				payout_way,
			</if>
			<if test="isFrozenRecord != null" >
				is_frozen_record
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides="," >
			<if test="agentId != null" >
				#{agentId,jdbcType=INTEGER},
			</if>
			<if test="parentId != null" >
				#{parentId,jdbcType=INTEGER},
			</if>
			<if test="role != null" >
				#{role,jdbcType=TINYINT},
			</if>
			<if test="amount != null" >
				#{amount,jdbcType=BIGINT},
			</if>
			<if test="fortheAmount != null" >
				#{fortheAmount,jdbcType=BIGINT},
			</if>
			<if test="frozenAmount != null" >
				#{frozenAmount,jdbcType=BIGINT},
			</if>
			<if test="companyName != null" >
				#{companyName,jdbcType=VARCHAR},
			</if>
			<if test="cipher != null" >
				#{cipher,jdbcType=VARCHAR},
			</if>
			<if test="quale != null" >
				#{quale,jdbcType=TINYINT},
			</if>
			<if test="companyPhone != null" >
				#{companyPhone,jdbcType=VARCHAR},
			</if>
			<if test="registryTime != null" >
				#{registryTime,jdbcType=TIMESTAMP},
			</if>
			<if test="businessLicense != null" >
				#{businessLicense,jdbcType=VARCHAR},
			</if>
			<if test="address != null" >
				#{address,jdbcType=VARCHAR},
			</if>
			<if test="openBank != null" >
				#{openBank,jdbcType=VARCHAR},
			</if>
			<if test="custType != null" >
				#{custType,jdbcType=TINYINT},
			</if>
			<if test="bankCardNo != null" >
				#{bankCardNo,jdbcType=VARCHAR},
			</if>
			<if test="bankNum != null" >
				#{bankNum,jdbcType=VARCHAR},
			</if>
			<if test="bankName != null" >
				#{bankName,jdbcType=VARCHAR},
			</if>
			<if test="companyPicPath != null" >
				#{companyPicPath,jdbcType=VARCHAR},
			</if>
			<if test="idcardPicPathA != null" >
				#{idcardPicPathA,jdbcType=VARCHAR},
			</if>
			<if test="idcardPicPathB != null" >
				#{idcardPicPathB,jdbcType=VARCHAR},
			</if>
			<if test="photo != null" >
				#{photo,jdbcType=VARCHAR},
			</if>
			<if test="trade != null" >
				#{trade,jdbcType=VARCHAR},
			</if>
			<if test="name != null" >
				#{name,jdbcType=VARCHAR},
			</if>
			<if test="phone != null" >
				#{phone,jdbcType=VARCHAR},
			</if>
			<if test="email != null" >
				#{email,jdbcType=VARCHAR},
			</if>
			<if test="qq != null" >
				#{qq,jdbcType=VARCHAR},
			</if>
			<if test="organizationNumber != null" >
				#{organizationNumber,jdbcType=VARCHAR},
			</if>
			<if test="enterpriseNumber != null" >
				#{enterpriseNumber,jdbcType=INTEGER},
			</if>
			<if test="secretKey != null" >
				#{secretKey,jdbcType=VARCHAR},
			</if>
			<if test="pushTimes != null" >
				#{pushTimes,jdbcType=INTEGER},
			</if>
			<if test="isHolidayCash != null" >
				#{isHolidayCash,jdbcType=TINYINT},
			</if>
			<if test="payoutIpEnabled != null" >
				#{payoutIpEnabled,jdbcType=TINYINT},
			</if>
			<if test="smsChannelId != null" >
				#{smsChannelId,jdbcType=INTEGER},
			</if>
			<if test="payIpEnabled != null" >
				#{payIpEnabled,jdbcType=TINYINT},
			</if>
			<if test="version != null" >
				#{version,jdbcType=INTEGER},
			</if>
			<if test="payStatus != null" >
				#{payStatus,jdbcType=INTEGER},
			</if>
			<if test="payoutStatus != null" >
				#{payoutStatus,jdbcType=INTEGER},
			</if>
			<if test="payoutWay != null" >
				#{payoutWay,jdbcType=INTEGER},
			</if>
			<if test="isFrozenRecord != null" >
				#{isFrozenRecord,jdbcType=TINYINT}
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="Agent" >
		update pattern_agent
		<set >
			<if test="parentId != null" >
				parent_id = #{parentId,jdbcType=INTEGER},
			</if>
			<if test="role != null" >
				role = #{role,jdbcType=TINYINT},
			</if>
			<if test="amount != null" >
				amount = #{amount,jdbcType=BIGINT},
			</if>
			<if test="fortheAmount != null" >
				forthe_amount = #{fortheAmount,jdbcType=BIGINT},
			</if>
			<if test="frozenAmount != null" >
				frozen_amount = #{frozenAmount,jdbcType=BIGINT},
			</if>
			<if test="companyName != null" >
				company_name = #{companyName,jdbcType=VARCHAR},
			</if>
			<if test="cipher != null and cipher != ''" >
				cipher = #{cipher,jdbcType=VARCHAR},
			</if>
			<if test="quale != null" >
				quale = #{quale,jdbcType=TINYINT},
			</if>
			<if test="companyPhone != null" >
				company_phone = #{companyPhone,jdbcType=VARCHAR},
			</if>
			<if test="registryTime != null" >
				registry_time = #{registryTime,jdbcType=TIMESTAMP},
			</if>
			<if test="businessLicense != null" >
				business_license = #{businessLicense,jdbcType=VARCHAR},
			</if>
			<if test="address != null" >
				address = #{address,jdbcType=VARCHAR},
			</if>
			<if test="openBank != null" >
				open_bank = #{openBank,jdbcType=VARCHAR},
			</if>
			<if test="custType != null" >
				cust_type = #{custType,jdbcType=TINYINT},
			</if>
			<if test="bankCardNo != null" >
				bank_card_no = #{bankCardNo,jdbcType=VARCHAR},
			</if>
			<if test="bankNum != null" >
				bank_num = #{bankNum,jdbcType=VARCHAR},
			</if>
			<if test="bankName != null" >
				bank_name = #{bankName,jdbcType=VARCHAR},
			</if>
			<if test="companyPicPath != null" >
				company_pic_path = #{companyPicPath,jdbcType=VARCHAR},
			</if>
			<if test="idcardPicPathA != null" >
				idcard_pic_path_a = #{idcardPicPathA,jdbcType=VARCHAR},
			</if>
			<if test="idcardPicPathB != null" >
				idcard_pic_path_b = #{idcardPicPathB,jdbcType=VARCHAR},
			</if>
			<if test="photo != null" >
				photo = #{photo,jdbcType=VARCHAR},
			</if>
			<if test="trade != null" >
				trade = #{trade,jdbcType=VARCHAR},
			</if>
			<if test="name != null" >
				name = #{name,jdbcType=VARCHAR},
			</if>
			<if test="phone != null" >
				phone = #{phone,jdbcType=VARCHAR},
			</if>
			<if test="email != null" >
				email = #{email,jdbcType=VARCHAR},
			</if>
			<if test="qq != null" >
				qq = #{qq,jdbcType=VARCHAR},
			</if>
			<if test="organizationNumber != null" >
				organization_number = #{organizationNumber,jdbcType=VARCHAR},
			</if>
			<if test="enterpriseNumber != null" >
				enterprise_number = #{enterpriseNumber,jdbcType=INTEGER},
			</if>
			<if test="secretKey != null" >
				secret_key = #{secretKey,jdbcType=VARCHAR},
			</if>
			<if test="pushTimes != null" >
				push_times = #{pushTimes,jdbcType=INTEGER},
			</if>
			<if test="isHolidayCash != null" >
				is_holiday_cash = #{isHolidayCash,jdbcType=TINYINT},
			</if>
			<if test="payoutIpEnabled != null" >
				payout_ip_enabled = #{payoutIpEnabled,jdbcType=TINYINT},
			</if>
			<if test="smsChannelId != null" >
				sms_channel_id = #{smsChannelId,jdbcType=INTEGER},
			</if>
			<if test="payIpEnabled != null" >
				pay_ip_enabled = #{payIpEnabled,jdbcType=TINYINT},
			</if>
			<if test="version != null" >
				version = #{version,jdbcType=INTEGER},
			</if>
			<if test="payStatus != null" >
				pay_status = #{payStatus,jdbcType=INTEGER},
			</if>
			<if test="payoutStatus != null" >
				payout_status = #{payoutStatus,jdbcType=INTEGER},
			</if>
			<if test="payoutWay != null" >
				payout_way = #{payoutWay,jdbcType=INTEGER},
			</if>
			<if test="isFrozenRecord != null" >
				is_frozen_record = #{isFrozenRecord,jdbcType=INTEGER},
			</if>
		</set>
		where agent_id = #{agentId,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="Agent" >
	update pattern_agent
	set
	parent_id = #{parentId,jdbcType=INTEGER},
	role = #{role,jdbcType=TINYINT},
	amount = #{amount,jdbcType=BIGINT},
	forthe_amount = #{fortheAmount,jdbcType=BIGINT},
	frozen_amount = #{frozenAmount,jdbcType=BIGINT},
	company_name = #{companyName,jdbcType=VARCHAR},
	cipher = #{cipher,jdbcType=VARCHAR},
	quale = #{quale,jdbcType=TINYINT},
	company_phone = #{companyPhone,jdbcType=VARCHAR},
	registry_time = #{registryTime,jdbcType=TIMESTAMP},
	business_license = #{businessLicense,jdbcType=VARCHAR},
	address = #{address,jdbcType=VARCHAR},
	open_bank = #{openBank,jdbcType=VARCHAR},
	cust_type = #{custType,jdbcType=TINYINT},
	bank_card_no = #{bankCardNo,jdbcType=VARCHAR},
	bank_num = #{bankNum,jdbcType=VARCHAR},
	bank_name = #{bankName,jdbcType=VARCHAR},
	company_pic_path = #{companyPicPath,jdbcType=VARCHAR},
	idcard_pic_path_a = #{idcardPicPathA,jdbcType=VARCHAR},
	idcard_pic_path_b = #{idcardPicPathB,jdbcType=VARCHAR},
	photo = #{photo,jdbcType=VARCHAR},
	trade = #{trade,jdbcType=VARCHAR},
	name = #{name,jdbcType=VARCHAR},
	phone = #{phone,jdbcType=VARCHAR},
	email = #{email,jdbcType=VARCHAR},
	qq = #{qq,jdbcType=VARCHAR},
	organization_number = #{organizationNumber,jdbcType=VARCHAR},
	enterprise_number = #{enterpriseNumber,jdbcType=INTEGER},
	secret_key = #{secretKey,jdbcType=VARCHAR},
	push_times = #{pushTimes,jdbcType=INTEGER},
	is_holiday_cash = #{isHolidayCash,jdbcType=TINYINT},
	payout_ip_enabled = #{payoutIpEnabled,jdbcType=TINYINT},
	sms_channel_id = #{smsChannelId,jdbcType=INTEGER},
	pay_ip_enabled = #{payIpEnabled,jdbcType=TINYINT},
	version = #{version,jdbcType=INTEGER},
	pay_status = #{payStatus,jdbcType=INTEGER},
	payout_status = #{payoutStatus,jdbcType=INTEGER},
	payout_way = #{payoutWay,jdbcType=INTEGER},
	is_frozen_record = #{isFrozenRecord,jdbcType=INTEGER}
	where agent_id = #{agentId,jdbcType=INTEGER}
  </update>


	<!-- 自定义 -->
	<select id="pageCount" parameterType="map" resultType="int">
		select count(*) from pattern_agent
		<include refid="pageConditions" />
	</select>

	<select id="pageList" parameterType="map" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List"/>
		from pattern_agent
		<include refid="pageConditions" />
		<if test="start!=null and offset!=null">
			limit #{start},#{offset}
		</if>
	</select>

	<select id="pageByRoleList" parameterType="java.util.Map" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List"/>
		from pattern_agent
		where role = #{role}
		<if test="start!=null and offset!=null">
			limit #{start},#{offset}
		</if>
	</select>

	<select id="pageByRoleListCount" parameterType="java.util.Map" resultType="int">
		select count(*)
		from pattern_agent
		where role = #{role}
	</select>

	<select id="pageByIsFrozenRecordCount" parameterType="map" resultType="int">
		select count(*) from pattern_agent
		where is_frozen_record = 1 and role = 1
	    <if test="agentId != null">
			and agent_id = #{agentId}
		</if>
	</select>

	<select id="pageByIsFrozenRecordList" parameterType="map" resultMap="BaseResultMap">
		select
		<include refid="Base_Column_List"/>
		from pattern_agent
		where is_frozen_record = 1 and role = 1
		<if test="agentId != null">
			and agent_id = #{agentId}
		</if>
		<if test="start!=null and offset!=null">
			limit #{start},#{offset}
		</if>
	</select>

	<select id="selectByIsFrozenRecordList" resultMap="BaseResultMap">
		select
		agent_id,
		company_name
		from pattern_agent
		where is_frozen_record = 1 and role = 1
	</select>

	<sql id="pageConditions" >
		<where>
			<if test="agentId != null">
				AND agent_id = #{agentId}
			</if>
			<if test="parentId != null and parentId != ''">
				AND parent_id = #{parentId,jdbcType=INTEGER}
			</if>
			<if test="role != null">
				AND role = #{role}
			</if>
			<if test="amount != null">
				AND amount = #{amount,jdbcType=BIGINT}
			</if>
			<if test="fortheAmount != null">
				AND forthe_amount = #{fortheAmount,jdbcType=BIGINT}
			</if>
			<if test="frozenAmount != null">
				AND frozen_amount = #{frozenAmount,jdbcType=BIGINT}
			</if>
			<if test="companyName != null and companyName != ''">
				AND company_name = #{companyName}
			</if>
			<if test="companyNameLike != null and companyNameLike != ''">
				AND company_name LIKE concat('%',#{companyNameLike},'%')
			</if>
			<if test="cipher != null and cipher != ''">
				AND cipher = #{cipher,jdbcType=VARCHAR}
			</if>
			<if test="quale != null and quale != ''">
				AND quale = #{quale,jdbcType=TINYINT}
			</if>
			<if test="companyPhone != null and companyPhone != ''">
				AND company_phone = #{companyPhone,jdbcType=VARCHAR}
			</if>
			<if test="registryTime != null and registryTime != ''">
				AND registry_time = #{registryTime,jdbcType=TIMESTAMP}
			</if>
			<if test="businessLicense != null and businessLicense != ''">
				AND business_license = #{businessLicense,jdbcType=VARCHAR}
			</if>
			<if test="address != null and address != ''">
				AND address = #{address,jdbcType=VARCHAR}
			</if>
			<if test="openBank != null and openBank != ''">
				AND open_bank = #{openBank,jdbcType=VARCHAR}
			</if>
			<if test="custType != null and custType != ''">
				AND cust_type = #{custType,jdbcType=TINYINT}
			</if>
			<if test="bankCardNo != null and bankCardNo != ''">
				AND bank_card_no = #{bankCardNo,jdbcType=VARCHAR}
			</if>
			<if test="bankNum != null and bankNum != ''">
				AND bank_num = #{bankNum,jdbcType=VARCHAR}
			</if>
			<if test="bankName != null and bankName != ''">
				AND bank_name = #{bankName,jdbcType=VARCHAR}
			</if>
			<if test="companyPicPath != null and companyPicPath != ''">
				AND company_pic_path = #{companyPicPath,jdbcType=VARCHAR}
			</if>
			<if test="idcardPicPathA != null and idcardPicPathA != ''">
				AND idcard_pic_path_a = #{idcardPicPathA,jdbcType=VARCHAR}
			</if>
			<if test="idcardPicPathB != null and idcardPicPathB != ''">
				AND idcard_pic_path_b = #{idcardPicPathB,jdbcType=VARCHAR}
			</if>
			<if test="photo != null and photo != ''">
				AND photo = #{photo,jdbcType=VARCHAR}
			</if>
			<if test="trade != null and trade != ''">
				AND trade = #{trade,jdbcType=VARCHAR}
			</if>
			<if test="name != null and name != ''">
				AND name LIKE concat('%',#{name},'%')
			</if>
			<if test="phone != null and phone != ''">
				AND phone LIKE concat('%',#{phone},'%')
			</if>
			<if test="email != null and email != ''">
				AND email = #{email,jdbcType=VARCHAR}
			</if>
			<if test="qq != null and qq != ''">
				AND qq = #{qq,jdbcType=VARCHAR}
			</if>
			<if test="organizationNumber != null and organizationNumber != ''">
				AND organization_number = #{organizationNumber,jdbcType=VARCHAR}
			</if>
			<if test="enterpriseNumber != null and enterpriseNumber != ''">
				AND enterprise_number = #{enterpriseNumber,jdbcType=INTEGER}
			</if>
			<if test="secretKey != null and secretKey != ''">
				AND secret_key = #{secretKey,jdbcType=VARCHAR}
			</if>
			<if test="pushTimes != null and pushTimes != ''">
				AND push_times = #{pushTimes,jdbcType=INTEGER}
			</if>
			<if test="isHolidayCash != null and isHolidayCash != ''">
				AND is_holiday_cash = #{isHolidayCash,jdbcType=TINYINT}
			</if>
			<if test="payoutIpEnabled != null and payoutIpEnabled != ''">
				AND payout_ip_enabled = #{payoutIpEnabled,jdbcType=TINYINT}
			</if>
			<if test="smsChannelId != null and smsChannelId != ''">
				AND sms_channel_id = #{smsChannelId,jdbcType=INTEGER}
			</if>
			<if test="payIpEnabled != null and payIpEnabled != ''">
				AND pay_ip_enabled = #{payIpEnabled,jdbcType=TINYINT}
			</if>
			<if test="version != null and version != ''">
				AND version = #{version,jdbcType=INTEGER}
			</if>
			<if test="payStatus != null">
				AND pay_status = #{payStatus,jdbcType=INTEGER}
			</if>
			<if test="payoutStatus != null">
				AND payout_status = #{payoutStatus,jdbcType=INTEGER}
			</if>
			<if test="payoutWay != null">
				AND payout_way = #{payoutWay,jdbcType=INTEGER}
			</if>
		</where>
	</sql>

	<update id="updateAmount" parameterType="Agent" >
		update pattern_agent
		<set >
			<if test="amount != null" >
				amount = #{amount},
				version = version+1
			</if>
		</set>
		where agent_id = #{agentId} and version = #{version}
	</update>

	<update id="updateAmountAndFrozenAmount" parameterType="java.util.Map" >
		update pattern_agent
		<set >
			<if test="amount != null and frozenAmount != null" >
				amount = #{amount},
				frozen_amount = #{frozenAmount},
				is_frozen_record = 1,
				version = version+1
			</if>
		</set>
		where agent_id = #{agentId} and version = #{version}
	</update>

	<update id="updatePayStatus" parameterType="java.util.Map" >
		update pattern_agent
		<set >
			<if test="agentId != null and payStatus != null" >
				pay_status = #{payStatus},
				version = version+1
			</if>
		</set>
		where agent_id = #{agentId} and version = #{version}
	</update>

	<update id="updatePayoutStatus" parameterType="java.util.Map" >
		update pattern_agent
		<set >
			<if test="agentId != null and payoutStatus != null" >
				payout_status = #{payoutStatus},
				version = version+1
			</if>
		</set>
		where agent_id = #{agentId} and version = #{version}
	</update>

	<select id="queryListByParentId" parameterType="map" resultMap="BaseResultMap">
		select <include refid="Base_Column_List"/>
			from pattern_agent
			where parent_id = #{parentId,jdbcType=INTEGER}
			or agent_id = #{parentId,jdbcType=INTEGER}
	</select>

	<update id="updateSecretKey" parameterType="map" >
		update pattern_agent
		<set >
			<if test="agentId != null and secretKey != null" >
				secret_key = #{secretKey},
				version = version+1
			</if>
		</set>
		where agent_id = #{agentId} and version = #{version}
	</update>

	<update id="updateCipher" parameterType="map" >
		update pattern_agent
		<set >
			<if test="agentId != null and cipher != null" >
				cipher = #{cipher},
				version = version+1
			</if>
		</set>
		where agent_id = #{agentId} and version = #{version}
	</update>

	<update id="updateFortheAmount" parameterType="map" >
		update pattern_agent
		<set >
			<if test="fortheAmount != null and version != null" >
				forthe_amount = #{fortheAmount},
				version = version+1
			</if>
		</set>
		where agent_id = #{agentId} and version = #{version}
	</update>

	<select id="queryAgentIdByParentId" parameterType="map" resultType="java.lang.Integer">
		select agent_id
		from pattern_agent
		where parent_id = #{parentId,jdbcType=INTEGER}
		or agent_id = #{parentId,jdbcType=INTEGER}
	</select>
</mapper>